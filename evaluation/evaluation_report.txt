# Evaluation Report

This report explains how the political ideology of EU directives and regulations was calculated and assessed. It compares the results to a ground truth dataset.

Three methods were evaluated: the approach by [simonhixPoliticalIdeologyPolicyLoss2024], a natural language processing (NLP) approach using latent semantic scaling (LSS) and finally an approach applying large language models (LLMs). The ground truth is based on [nanouEvercloserUnionMeasuring2017].

The comparison shows that the [simonhixPoliticalIdeologyPolicyLoss2024] method aligns closest with the ground truth than the other methods.

## Data: Preambles and summaries of directives and regulations between 1989 and 2024

Two sources of natural language data were used in the analysis:

1. Preambles: The preamble text of policies was used, as suggested by Hix and Hoyland [simonhixPoliticalIdeologyPolicyLoss2024]. Text was cut off at "Adopted this directive/regulation" (p. 12). Preambles were collected from the [CEPS EurLex dataset](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/0EGYWY) [borrettCEPSEurLexDataset2020], covering about 70k directives and regulations from 1989 to 2019. Additional policies from 2019 to August 2024 were collected using the [eurlex](https://michalovadek.github.io/eurlex/) R package [ovadekFacilitatingAccessData2021], resulting in 74,734 policies total.

2. Summaries: EUR-Lex provides summaries for some policies ([example](https://eur-lex.europa.eu/legal-content/EN/LSU/?uri=CELEX:32019L0904&qid=1719922563047)). Summaries are provided by EUR-Lex on a [case-by-case basis](https://eur-lex.europa.eu/browse/summaries.html). A total of 1,637 summaries were scraped from eur-lex.europa.eu using [this script](https://github.com/fabianaiolfi/eu-policy-feedback/blob/main/data_collection/eurlex_summaries.R).

## Methods

### Existing Methods
[simonhixPoliticalIdeologyPolicyLoss2024, p. 12] classify 100-word text segments as left, right, or neutral using these methods:

1. RoBERT Left Right
A [RoBERT classifier](https://huggingface.co/niksmer/RoBERTa-RILE) trained on a corpus of party manifestos.

2. Bakker Hobolt Econ and Bakker Hobolt Social
A fine-tuned [ManiBERT classifier](https://huggingface.co/niksmer/ManiBERT) that identifies Comparative Manifesto Project (CMP) policy-issue codes. Results are classified as “left” or “right” based on the modified CMP measures in [bakkerMeasuringPartyPositions2013, Table 2.4., p. 38].

3. CMP Left Right
A fine-tuned [ManiBERT classifier](https://huggingface.co/niksmer/ManiBERT) that identifies Comparative Manifesto Project (CMP) policy-issue codes. Results are classified as “left” or “right” using [bakkerMeasuringPartyPositions2013, Table 2.2., p. 33] CMP left-right dimension terms.

Each 100-word segment receives “left,” “right,” or “neutral” tags. To convert these occurrences into a score, the authors use the “logit-scaled left-right position” method from [loweScalingPolicyPreferences2011].

### Latent Semantic Scaling (LSS)
LSS is a method for measuring the semantic similarity between documents and a set of seed words. In our case, each directive or regulation is a document and the seed words convey “typical” left-right terms. The semantic similarity between documents and seed words is calculated using word embeddings provided by [GloVe](https://nlp.stanford.edu/projects/glove/). To keep computation efficient, I use the smallest pre-trained word vectors model available (6B tokens, 400K vocab, 50 dimensions).
- [Economic seed words](https://github.com/fabianaiolfi/eu-policy-feedback/blob/main/lss/seed_words_econ_manual.yml)
- [Social seed words](https://github.com/fabianaiolfi/eu-policy-feedback/blob/main/lss/seed_words_social_manual.yml)

### LLM Methods
- The LLMs methods use two different models: [OpenAI’s GPT-4o mini](https://openai.com/index/gpt-4o-mini-advancing-cost-efficient-intelligence/), using the [OpenAI API](https://platform.openai.com/docs/overview), and Meta’s [Llama 3.2 1B](https://ollama.com/library/llama3.2:1b), using [Ollama](https://ollama.com/) locally.

#### 0-Shot
- This method asks the LLM to score a policy on a economic left-right scale of 0 to 100 based on set criteria.

Prompt
```
You are an expert in European Union policies. Answer questions and provide information based on that expertise.

[I’m going to show you a summary of an EU policy | I’m going to show you the beginning of a preamble of an EU policy.] Please score the policy on a scale of 0 to 100. 0 represents economic left-wing policies, such as government intervention in the economy, redistribution of wealth, social welfare programs, progressive taxation, regulation of markets, and support for labor rights. 100 represents economic right-wing policies such as free market capitalism, deregulation, lower taxes, privatization, reduced government spending, and individual financial responsibility. Please *only* return the score and absolutely nothing else. Here’s the [summary | preamble]:
```

#### Ranking
- This method pits two policies against each other. Two random policies are picked and shown to the LLM. The LLM then has to decide which policy is more economically left (or right), depending on a set of criteria. The “winning” policy is then flagged. Repeating this method enough times, i.e., recording many “winning” and “losing” policies, allows to implement the [Elo rating system](https://en.wikipedia.org/wiki/Elo_rating_system) in order to calcualte a score for each policy. Economically left “winning” policies receive a higher “left” score than policies that are economically left “losing”.

## Prompt for economic left using summaries
```
You are an expert in European Union policies. Answer questions and provide information based on that expertise.

I have two summaries of EU policies, and I need to determine which policy is more economically left-leaning. Please analyze the summaries based on principles commonly associated with economically left policies, such as government intervention in the economy, redistribution of wealth, social welfare programs, progressive taxation, regulation of markets, and support for labor rights.

Policy Summary 1
…

Policy Summary 2
…

Which policy is more economically left? Please answer ONLY '1' or '2', NOTHING ELSE UNDER NO CIRCUMSTANCES.
```

## Prompt for economic right using summaries
```
You are an expert in European Union policies. Answer questions and provide information based on that expertise.

I have two summaries of EU policies, and I need to determine which policy is more economically right-leaning. Please analyze the summaries based on principles commonly associated with economically right policies, such as free market capitalism, deregulation, lower taxes, privatization, reduced government spending, and individual financial responsibility.

Policy Summary 1
…

Policy Summary 2
…

Which policy is more economically right? Please answer ONLY USING THE NUMBERS '1' or '2', NOTHING ELSE UNDER NO CIRCUMSTANCES.
```


## Prompt for economic left using preambles
```
You are an expert in European Union policies. Answer questions and provide information based on that expertise.

I’m going to show you two EU policies, and I need to determine which policy is more economically left-leaning. Please analyze the beginning of the policies' preamble based on principles commonly associated with economically left policies, such as government intervention in the economy, redistribution of wealth, social welfare programs, progressive taxation, regulation of markets, and support for labor rights.

Preamble 1
…

Preamble 2
…

Which policy is more economically left? Please answer ONLY '1' or '2', NOTHING ELSE UNDER NO CIRCUMSTANCES.
```

## Prompt for economic right using preambles
```
You are an expert in European Union policies. Answer questions and provide information based on that expertise.

I’m going to show you two EU policies, and I need to determine which policy is more economically left-leaning. Please analyze the beginning of the policies' preamble based on principles commonly associated with economically right policies, such as free market capitalism, deregulation, lower taxes, privatization, reduced government spending, and individual financial responsibility

Preamble 1
…

Preamble 2
…

Which policy is more economically right? Please answer ONLY USING THE NUMBERS '1' or '2', NOTHING ELSE UNDER NO CIRCUMSTANCES.
```

## Evaluation
- I compare the calcualted policy scores with a dataset provided by Nanou 2017 [nanouEvercloserUnionMeasuring2017], which I treat as the ground truth
- nanouEvercloserUnionMeasuring2017 provide policy scores for 5-year periods for nine broad policy areas

1. Economic and Financial Affairs
2. Competitiveness
3. Employment, Social Policy, Health and Consumer Affairs
4. Environment
5. Agriculture and Fisheries
6. Transport, Telecommunications, Energy
7. Education, Youth and Culture
8. Justice and Home Affairs
9. Foreign and Security Policy

- In order to make the calculated scores comparable with Nanou 2017 [nanouEvercloserUnionMeasuring2017], I normalise all results using z-score, assign each directive and regulation to a broad policy area based on a policy’s [subject matter](https://eur-lex.europa.eu/content/e-learning/browsing_options.html) and calcualte the average for each time period and policy area.
- Mapping between broad policy area and subject matter is performed with [this script](https://github.com/fabianaiolfi/eu-policy-feedback/blob/main/evaluation/policy_area_moodley_subj_matter_mpolicy.R)

## Results
- I evaluate the summaries and the preambles seperately
- I apply the following evaluation metrics

- Pearson Correlation: A higher correlation between a calculated score and the ground truth suggests that the averaged calculated scores are closer to the ground truth than a lower correlation

- Correlation Scatter Plots: Each point in these plots represent an averaged score for a broad policy area in a specific time period. X-axis are the calculated scores (described in a plot’s title), y-axis is the ground truth. The diagonal gray line represents perfect correlation between the two scores. The blue line represents the trend line for the calculated score. The closer the blue and grey line converge, the closer the calculated results are to the ground truth.

- Mean Absolute Error: Average of the asbolute differences between calculated scores and ground truth. Smaller mean absolute errors indicate that the calculated values are closer to the ground truth.

- Adjusted MAE With Variance Penalties: The ground truth displays a much higher variance that the calculated scores. I thus introduce a variance penalty, which penalises score for their lack of variance. I adjust the mean absolute error by multiplying it by the inverse of the variance ratio. The variance ratio is the ratio of the variance of the ground truth to the variance of the calculated score. Calculated scores with a high variance are less penalised and thus “rewarded”. Calculated scores with a low variance are more penalised.